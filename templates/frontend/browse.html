{% extends "base/base-content.html" %}
{% load i18n %}
{% load vpw_filters %}
{% block titleSite %}Browse{% endblock %}

{% block js %}
	<script type="text/javascript" src="{{STATIC_URL}}js/bootstrap-select.js"></script>
	<script type="text/javascript" src="{{STATIC_URL}}js/application.js"></script>
{% endblock %}

{% block content %}

<!-- filter top -->
<div id="fitertop-browserall" class="hffitertop">
    <!--
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Browse All</a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li class="dropdown-label">Popular</li>
            <li><a>All Creative Fields</a></li>
            <li><a>Architecture</a></li>
            <li><a>Art Direction</a></li>
            <li><a>Branding</a></li>
            <li><a>Fashion</a></li>
            <li><a>Graphic Design</a></li>
            <li><a>Illustration</a></li>
            <li><a>Industrial Design</a></li>
            <li><a>Interaction Design</a></li>
            <li><a>Motion Graphics</a></li>
            <li><a>Photography</a></li>
            <li><a>UI/UX</a></li>
            <li><a>Web Design</a></li>
        </ul>
    </div>
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Featured</a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li><a>Featured</a></li>
            <li><a>Most Liked</a></li>
            <li><a>Most Viewed</a></li>
            <li><a>Most Discussed</a></li>
            <li><a>Most Recent  </a></li>
        </ul>
    </div>
    -->
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Sort by</a>
        <ul class="dropdown-menu dropdown-menu-sort" role="menu" aria-labelledby="dLabel">
            <li><a href="javascript:void(0)" rel="title">{% trans 'Title' %}</a></li>
            <!--<li><a>{% trans 'Relevance' %}</a></li>
            <li><a>{% trans 'Rating' %}</a></li>-->
            <li><a href="javascript:void(0)" rel="modified">{% trans 'Date' %}</a></li>
        </ul>
    </div>
    <div class="fiterbutton right">
        <a class="gridview left">{% trans 'Gridview' %}</a>
        <a class="listview right">{% trans 'Listview' %}</a>
    </div>
</div>

<div class="content-wrapper">
    <!-- left content -->
    <div class="col-lg-1 left-row">
        <script>
        $(document).ready(function(){
            $(document).on('click', '.dropdown-menu-sort a', function(){
                $('#filter-sort').val($(this).attr('rel'));
                ajaxGetMaterialByCondition();
            });
            $('.hfbtn-save').click(function(){
                var btnSave = $(this);
                var mid = $(this).attr('mid');
                var version = $(this).attr('version');
                var csrfmiddlewaretoken = Voer.Helper.getCookie('csrftoken');

                $.post('/ajax/add_favorite', {mid: mid, version: version, csrfmiddlewaretoken: csrfmiddlewaretoken}, function(data){
                    if (data.status) {
                        btnSave.parents('.hfitem').find('.hflike').html(data.favorite_count);
                    }
                });
            });
        });
        </script>

        <div class="hfitems active">
            <div id="materials" class="ajax-ev" data-ajax-trigger="load" data-ajax-url="{% url 'ajax_browse' %}">&nbsp;</div>
        </div>
    </div>
    <div class="col-lg-2 right-row">
        <div class="hffilter-right">
        <div class="bigbox-common">
            <div class="title">Filter By</div>
            <div class="content" id="main_list">
                <script>
                    $(document).ready(function(){
                        $('div[data-key|=authors]').click(function(){
                            var $datakey=$(this).attr('data-key');
                            if ($datakey == 'authors-0'){
                                $('div[data-key|=authors]').removeClass('file_selected');
                                $('div[data-key=authors-0]').addClass('file_selected');
                            }else {
                                if($('div[data-key|=authors]').hasClass('file_selected')){
                                    $('div[data-key=authors-0]').removeClass('file_selected');
                                }else{
                                    $('div[data-key=authors-0]').addClass('file_selected');
                                    getItemSelected()
                                }
                            }
                        });
                        $('div[data-key|=categories]').click(function(){
                            var $datakey=$(this).attr('data-key');
                            if($datakey == 'categories-0'){
                                $('div[data-key|=categories]').removeClass('file_selected');
                                $('div[data-key=categories-0]').addClass('file_selected');
                            }else{
                                if($('div[data-key|=categories]').hasClass('file_selected')){
                                    $('div[data-key=categories-0]').removeClass('file_selected');
                                }else{
                                    $('div[data-key=categories-0]').addClass('file_selected');
                                    getItemSelected()
                                }
                            }
                        });
                        $('div[data-key|=langs]').click(function(){
                            var $datakey=$(this).attr('data-key');
                            if($datakey == 'langs-0'){
                                $('div[data-key|=langs]').removeClass('file_selected');
                                $('div[data-key=langs-0]').addClass('file_selected');
                            }else{
                                if($('div[data-key|=langs]').hasClass('file_selected')){
                                    $('div[data-key=langs-0]').removeClass('file_selected');
                                }else{
                                    $('div[data-key=langs-0]').addClass('file_selected');
                                    getItemSelected()
                                }
                            }
                        });
                        $('div[data-key|=types]').click(function(){
                            var $datakey=$(this).attr('data-key');
                            if($datakey == 'types-0'){
                                $('div[data-key|=types]').removeClass('file_selected');
                                $('div[data-key=types-0]').addClass('file_selected');
                            }else{
                                if($('div[data-key|=types]').hasClass('file_selected')){
                                    $('div[data-key=types-0]').removeClass('file_selected');
                                }else{
                                    $('div[data-key=types-0]').addClass('file_selected');
                                    getItemSelected()
                                }
                            }
                        });
                        $('.checkbox-custom').click(function(){
                            var $datakey=$(this).attr('data-key');
                            $('div[data-key='+$datakey+']').toggleClass('file_selected');
                            ajaxGetMaterialByCondition();
                        });
                    });
                </script>
                <!-- type -------------------------------------------------------------------->
                <div class="smallbox-common">
                    <div class="checkbox-item">
                        <div class="file_selected" data-key="types-0">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="types-0"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'All types' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                     <div class="checkbox-item">
                        <div class="" data-key="types-1">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom" data-key="types-1"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'Modules' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                    <div class="checkbox-item">
                        <div class="" data-key="types-2">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom" data-key="types-2"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'Collection' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- language -------------------------------------------------------------------->
                <div class="smallbox-common">
                    <div class="checkbox-item">
                        <div class="file_selected" data-key="langs-0">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="langs-0"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'All languages' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                    <div class="checkbox-item">
                        <div class="" data-key="langs-vi">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom" data-key="langs-vi"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'Vietnamese' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                    <div class="checkbox-item">
                        <div class="" data-key="langs-en">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom" data-key="langs-en"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'English' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Categories -->
                <div class="smallbox-common">
                    <div class="checkbox-item">
                        <div class="file_selected" data-key="categories-0">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="categories-0"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {% trans 'All categories' %}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                    {% for category in categories %}
                    <div class="checkbox-item">
                        <div class="" data-key="categories-{{category.id}}">
                            <div class="grip_column">
                                <div title="Select/Deselect Item" class="checkbox-custom" data-key="categories-{{category.id}}"></div>
                            </div>
                            <div class="hfcheckinfo">
                                {{ category.name }}
                            </div>
                            <div class="hfchecknumber">
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!-- input hidden extra -->
                <input id="filter-author-id" type="hidden" value="" />
                <input id="filter-sort" type="hidden" value="" />
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}
