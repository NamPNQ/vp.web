{% extends "base/base-content.html" %}
{% load i18n %}
{% block titleSite %}Browse{% endblock %}

{% block js %}
	<script type="text/javascript" src="{{STATIC_URL}}js/bootstrap-select.js"></script>
	<script type="text/javascript" src="{{STATIC_URL}}js/application.js"></script>
{% endblock %}

{% block content %}

<!-- filter top -->
<div id="fitertop-browserall" class="hffitertop">
    <!--
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Browse All</a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li class="dropdown-label">Popular</li>
            <li><a>All Creative Fields</a></li>
            <li><a>Architecture</a></li>
            <li><a>Art Direction</a></li>
            <li><a>Branding</a></li>
            <li><a>Fashion</a></li>
            <li><a>Graphic Design</a></li>
            <li><a>Illustration</a></li>
            <li><a>Industrial Design</a></li>
            <li><a>Interaction Design</a></li>
            <li><a>Motion Graphics</a></li>
            <li><a>Photography</a></li>
            <li><a>UI/UX</a></li>
            <li><a>Web Design</a></li>
        </ul>
    </div>
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Featured</a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li><a>Featured</a></li>
            <li><a>Most Liked</a></li>
            <li><a>Most Viewed</a></li>
            <li><a>Most Discussed</a></li>
            <li><a>Most Recent  </a></li>
        </ul>
    </div>
    -->
    <div class="dropdown left">
        <a class="filter-title arrow-down" data-toggle="dropdown" href="#">Sort by</a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li><a>{% trans 'Title' %}</a></li>
            <li><a>{% trans 'Relevance' %}</a></li>
            <li><a>{% trans 'Rating' %}</a></li>
            <li><a>{% trans 'Date' %}</a></li>
        </ul>
    </div>
    <div class="fiterbutton right">
        <a class="gridview left">{% trans 'Gridview' %}</a>
        <a class="listview right">{% trans 'Listview' %}</a>
    </div>
</div>          <!-- left content -->
            <div class="col-lg-1 left-row">
                <script>
                    $(document).ready(function(){
                        $('.hfbtn-save').click(function(){
                            var $iditem = $(this).attr('metadata');
                            $('div[metadata='+$iditem+']').toggleClass('hfvisible');
                        });
                        $('.collection-save-hover').hover(
                            function() {
                            }, function() {
                              var $iditem = $(this).attr('metadata').replace('col-hover-', '');
                              var $selectItem = $('div[metadata=iditem-'+$iditem+']');

                              if ($selectItem.hasClass('hfvisible')) {
                                $selectItem.toggleClass('hfvisible');
                              }
                            }
                        );
                        $('.hfbtn-saveto-type').click(function(){
                            var $iditemCreate = $(this).attr('metadata');

                            $('div[metadata='+$iditemCreate+']').addClass('hfvisible');
                            //$('div[metadata='+$iditemCreate+']').hasClass('collection-saveto-type').toggleClass('hfvisible');
                        });
                        $('.gridview').click(function(){
                            $('.hfitems').toggleClass('gridview');
                            $('.gridview').toggleClass('active');
                            $('.listview').toggleClass('active');
                        });
                        $('.listview').click(function(){
                            $('.hfitems').toggleClass('gridview');
                            $('.gridview').toggleClass('active');
                            $('.listview').toggleClass('active');
                        });
                    });
                </script>
<div id="materials" class="hfitems active">
{% for material in materials %}
{% if material.material_type == 1 %}
    {% url 'module_detail' mid=material.material_id as material_url %}
{% else %}
    {% url 'collection_detail' cid=material.material_id as material_url %}
{% endif %}
<div class="hfitem">
    <div class="collection-save-hover" metadata="col-hover-{{ material.material_id }}">
        {% if user.is_authenticated %}
        <div class="collection-save">
            <div><a class="hfbtn-save" metadata="iditem-{{ material.material_id }}">{% trans 'Add to my favourite' %}</a></div>
        </div>
        <div class="collection-saveto" metadata="iditem-{{ material.material_id }}">
            <div class="collection-saveto-title">{% trans 'My Favorites' %}</div>
            <div class="collection-saveto-content">

            </div>
            <div class="collection-saveto-create" metadata="iditem-1-create">
                <a class="hfbtn-saveto-type" metadata="iditem-1-create">{% trans 'Create new' %}</a>
            </div>
            <div class="collection-saveto-type" metadata="iditem-1-create">
                <input onclick="" class="saveto-type" title="Create new" value="Create new" alt="Create new" type="text">
            </div>
        </div>
        {% endif %}
    </div>
    <div class="collection-mainpage-cover">
		{% if material.categories %}
	   <img src="{{STATIC_URL}}images/cat{{material.categories}}.jpg"/>     
	   {% else %}
	   <img src="{{STATIC_URL}}images/cat_other.jpg"/>  
	   {% endif %}
    </div>
    <div class="collection-mainpage-details">
        <div class="title-collection">
            <a title="{{ material.title }}" alt="{{ material.title }}" href="{{ material_url }}">{{ material.title }}</a>
        </div>
        <div class="short-collection">{{ material.description }}</div>
        <div class="author-collection"><a href="{% url 'view_profile' 345 %}">Pham Duc Manh</a></div>
        <div class="category-collection"><a href="{% url 'browse' %}?categories={{ material.categories }}">
			{% if material.categories == '1' %}
				{% trans 'Business' %}
			{% elif  material.categories == '2' %}
				{% trans 'Social Sciences' %}
			{% elif  material.categories == '3' %}
				{% trans 'Science and Technology' %}
			{% elif  material.categories == '4' %}
				{% trans 'Humanities' %}
			{% elif  material.categories == '5' %}
				{% trans 'Arts' %}
			{% elif  material.categories == '6' %}
				{% trans 'Mathematics and Statistics' %}
			{% else %}
				{% trans 'Others' %}
			{% endif %}
		</a></div>

    </div>
    <div class="collection-mainpage-other">
        {% if material.material_type == 1 %}
        <div class="voer-mol-ico left">&nbsp;</div>
        {% elif material.material_type == 2 %}
        <div class="voer-col-ico left">&nbsp;</div>
        {% endif %}

        <div class="hflike left">{% if material.favorite_count.count %} {{ material.favorite_count.count }}{% else %}0{% endif %}</div>
        <div class="hfview left">{% if material.view_count.view > 0 %}{{ material.view_count.view }}{% else %}0{% endif %}</div>

        <div class="hfother right tooltipi-container">
            <img src="{{ STATIC_URL }}images/icon/information.png">
            <div class="hftooltipi">
                Uploaded On: <strong>{{ material.modified }}</strong>
            </div>
        </div>
    </div>
</div>
{% endfor %}
{% include "base/pager.html" %}
</div>
</div>
<div class="col-lg-2 right-row">
    <div class="hffilter-right">
    <div class="bigbox-common">
        <div class="title">Filter By</div>
        <div class="content">
            <script>
                $(document).ready(function(){
					$('div[data-key|=authors]').click(function(){
						var $datakey=$(this).attr('data-key');
						if ($datakey == 'authors-all'){
							$('div[data-key|=authors]').removeClass('file_selected');
							$('div[data-key=authors-all]').addClass('file_selected');
						}else {
							$('div[data-key=authors-all]').removeClass('file_selected');
						}
					});
					$('div[data-key|=categories]').click(function(){
						var $datakey=$(this).attr('data-key');
						if($datakey == 'categories-all'){
							$('div[data-key|=categories]').removeClass('file_selected');
							$('div[data-key=categories-all]').addClass('file_selected');
						}else{
							$('div[data-key=categories-all]').removeClass('file_selected');
						}
					});
					$('div[data-key|=langs]').click(function(){
						var $datakey=$(this).attr('data-key');
						if($datakey == 'langs-all'){
							$('div[data-key|=langs]').removeClass('file_selected');
							$('div[data-key=langs-all]').addClass('file_selected');
						}else{
							$('div[data-key=langs-all]').removeClass('file_selected');
						}
					});
					$('div[data-key|=types]').click(function(){
						var $datakey=$(this).attr('data-key');
						if($datakey == 'types-all'){
							$('div[data-key|=types]').removeClass('file_selected');
							$('div[data-key=types-all]').addClass('file_selected');
						}else{
							$('div[data-key=types-all]').removeClass('file_selected');
						}
					});
					$('.checkbox-custom').click(function(){
						var $datakey=$(this).attr('data-key');
						$('div[data-key='+$datakey+']').toggleClass('file_selected');
						getItemSelected()
					});
					getItemSelected()
				});
				function getItemSelected(){
					// mang cac items duoc select
					listItems = [];
					$('#main_list').find('.checkbox-custom.file_selected').each(function(){
						listItems.push($(this).attr('data-key'));
					});
					numberItem = listItems.length;
					alert(listItems.join(','));
					if(numberItem > 0){
						$('#selection-actions').removeClass('displaynone');
						$('.selected_count').html(numberItem);

					}else{
						$('#selection-actions').addClass('displaynone');
					}
				}
            </script>
            <!-- type -------------------------------------------------------------------->
            <div class="smallbox-common">
                <div class="checkbox-item">
                    <div class="file_selected" data-key="types-all">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="types-all"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'All types' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                 <div class="checkbox-item">
                    <div class="" data-key="types-1">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom" data-key="types-1"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'Modules' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                <div class="checkbox-item">
                    <div class="" data-key="types-2">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom" data-key="types-2"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'Collection' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
            </div>
            <!-- language -------------------------------------------------------------------->
            <div class="smallbox-common">
                <div class="checkbox-item">
                    <div class="file_selected" data-key="langs-all">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="langs-all"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'All languages' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                <div class="checkbox-item">
                    <div class="" data-key="langs-vi">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom" data-key="langs-vi"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'Vietnamese' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                <div class="checkbox-item">
                    <div class="" data-key="langs-en">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom" data-key="langs-en"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'English' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
            </div>
            <!-- Categories -->
            <div class="smallbox-common">
                <div class="checkbox-item">
                    <div class="file_selected" data-key="categories-all">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom file_selected" data-key="categories-all"></div>
						</div>
						<div class="hfcheckinfo">
							{% trans 'All categories' %}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                {% for category in categories %}
                <div class="checkbox-item">
                    <div class="" data-key="categories-{{category.id}}">
						<div class="grip_column">
							<div title="Select/Deselect Item" class="checkbox-custom" data-key="categories-{{category.id}}"></div>
						</div>
						<div class="hfcheckinfo">
							{{ category.name }}
						</div>
						<div class="hfchecknumber">
							200
						</div>
					</div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}
